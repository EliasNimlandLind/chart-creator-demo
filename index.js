import { Chart } from 'chart.js/auto';
import zoomPlugin from 'chartjs-plugin-zoom';
import annotationPlugin from 'chartjs-plugin-annotation';

import LineChartZoom from './lib/chart-creator/js/extendedCharts/lineChartZoom';

Chart.register(zoomPlugin, annotationPlugin);

/* 
const firstDatasets = [
	{
		label: 'Dataset A',
		data: [
			418, 390, 86, 239, 140, 263, 419, 243, 204, 496, 455, 416, 473, 292, 207,
			78, 124, 164, 252, 60, 197, 130, 397, 204, 22, 242, 486, 243, 3, 61, 217,
			24, 239, 204, 351, 289, 386, 219, 18, 326, 94, 118, 331, 22, 164, 89, 387,
			230, 313, 109, 210, 316, 252, 470, 147, 346, 208, 188, 339, 22, 288, 140,
			321, 236, 174, 497, 259, 34, 479, 170, 486, 166, 46, 348, 478, 19, 219,
			300, 167, 304, 26, 433, 105, 198, 492, 483, 194, 19, 51, 75, 337, 356, 49,
			490, 405, 362, 243, 157, 186, 20, 53, 102, 86, 225, 382, 382, 234, 397,
			53, 365, 291, 102, 455, 180, 273, 280, 107, 305, 162, 96, 239, 479, 422,
			330, 316, 373, 197, 470, 226, 115, 206, 288, 353, 486, 205, 265, 357, 214,
			432, 134, 500, 344, 302, 336, 239, 305, 409, 401, 139, 49, 123, 382, 272,
			334, 207, 470, 307, 210, 108, 205, 382, 7, 83, 157, 268, 391, 120, 94, 96,
			240, 337, 28, 387, 126, 256, 196, 200, 118, 310, 460, 414, 496, 75, 413,
			232, 13, 181, 169, 410, 410, 465, 186, 216, 359, 439, 356, 21, 227, 444,
			449, 81, 266, 49, 111, 320, 270, 183, 152, 18, 312, 381, 141, 112, 420,
			499, 214, 194, 474, 425, 341, 247, 331, 10, 275, 430, 189, 243, 319, 293,
			3, 147, 485, 298, 301, 305, 221, 142, 19, 244, 231, 268, 381, 469, 185,
		],
	},
	{
		label: 'Dataset B',
		data: [
			63, 499, 342, 78, 59, 48, 100, 442, 4, 297, 65, 132, 332, 48, 131, 177,
			10, 401, 494, 81, 375, 63, 431, 119, 62, 84, 214, 287, 266, 286, 125, 275,
			282, 46, 272, 152, 107, 402, 492, 443, 196, 167, 402, 17, 216, 210, 333,
			140, 208, 79, 379, 264, 265, 409, 499, 65, 159, 422, 334, 456, 295, 434,
			168, 126, 22, 318, 145, 30, 394, 247, 352, 429, 63, 81, 389, 187, 43, 271,
			85, 366, 166, 55, 258, 149, 181, 223, 357, 263, 69, 375, 321, 363, 436,
			409, 280, 423, 381, 30, 154, 427, 197, 159, 27, 146, 492, 147, 420, 103,
			27, 220, 200, 4, 109, 478, 172, 373, 270, 319, 400, 440, 459, 64, 184, 76,
			316, 131, 52, 24, 17, 219, 266, 3, 396, 49, 474, 324, 49, 464, 63, 405,
			397, 317, 489, 393, 497, 400, 344, 12, 413, 368, 402, 5, 300, 420, 12,
			241, 460, 32, 124, 416, 195, 70, 160, 129, 408, 271, 147, 211, 314, 69,
			115, 484, 154, 111, 495, 345, 261, 156, 57, 270, 249, 239, 457, 7, 344,
			68, 12, 183, 365, 6, 143, 466, 316, 8, 365, 84, 189, 468, 466, 189, 73,
			473, 320, 248, 92, 105, 298, 79, 96, 258, 447, 235, 142, 376, 485, 251,
			297, 1, 283, 94, 37, 379, 451, 332, 475, 138, 96, 313, 300, 341, 200, 165,
			495, 390, 159, 260, 120, 85, 414, 22, 370, 393, 185, 472, 98, 250, 344,
			384, 31, 295, 268, 248, 231, 100, 168, 238, 37, 326, 289, 8, 220, 254,
		],
	},
];

const firstChartContext = document.getElementById('first-line-chart');

const firstLineChartZoom = new LineChartZoom(
	firstChartContext,
	'line',
	'pie',
	firstDatasets,
	'SEK',
	'Day',
	350,
	400
);
firstLineChartZoom.generateChart();
 */
const updatingDatasets = [
	{
		label: 'Dataset A',
		data: [],
	},
];

const updatingChartContext = document.getElementById('second-line-chart');
const updatingLineChartZoom = new LineChartZoom(
	updatingChartContext,
	'line',
	'pie',
	updatingDatasets,
	'SEK',
	'Day',
	1.2,
	1.5
);

updatingLineChartZoom.generateChart();

const generateMockData = () => {
	return Math.random() * 10;
};

const UpdateZoomChart = () => {
	const mockData = generateMockData();
	updatingLineChartZoom.lineChart.update(mockData);
};

setInterval(UpdateZoomChart, 100);
